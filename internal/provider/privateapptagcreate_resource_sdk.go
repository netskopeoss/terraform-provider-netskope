// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package provider

import (
	"github.com/hashicorp/terraform-plugin-framework/types"
	tfTypes "github.com/netskope/terraform-provider-ns/internal/provider/types"
	"github.com/netskope/terraform-provider-ns/internal/sdk/models/shared"
	"math/big"
)

func (r *PrivateAppTagCreateResourceModel) ToSharedTagRequest() *shared.TagRequest {
	var ids []string = []string{}
	for _, idsItem := range r.Ids {
		ids = append(ids, idsItem.ValueString())
	}
	var tags []shared.Tags = []shared.Tags{}
	for _, tagsItem := range r.Tags {
		tagName := new(string)
		if !tagsItem.TagName.IsUnknown() && !tagsItem.TagName.IsNull() {
			*tagName = tagsItem.TagName.ValueString()
		} else {
			tagName = nil
		}
		tags = append(tags, shared.Tags{
			TagName: tagName,
		})
	}
	out := shared.TagRequest{
		Ids:  ids,
		Tags: tags,
	}
	return &out
}

func (r *PrivateAppTagCreateResourceModel) RefreshFromSharedTagPatchResponse(resp *shared.TagPatchResponse) {
	if resp != nil {
		r.Data = []tfTypes.TagPatchResponseData{}
		if len(r.Data) > len(resp.Data) {
			r.Data = r.Data[:len(resp.Data)]
		}
		for dataCount, dataItem := range resp.Data {
			var data1 tfTypes.TagPatchResponseData
			data1.Tags = []tfTypes.TagPatchResponseTags{}
			for tagsCount, tagsItem := range dataItem.Tags {
				var tags1 tfTypes.TagPatchResponseTags
				if tagsItem.ID != nil {
					tags1.ID = types.NumberValue(big.NewFloat(float64(*tagsItem.ID)))
				} else {
					tags1.ID = types.NumberNull()
				}
				tags1.Name = types.StringPointerValue(tagsItem.Name)
				if tagsCount+1 > len(data1.Tags) {
					data1.Tags = append(data1.Tags, tags1)
				} else {
					data1.Tags[tagsCount].ID = tags1.ID
					data1.Tags[tagsCount].Name = tags1.Name
				}
			}
			if dataCount+1 > len(r.Data) {
				r.Data = append(r.Data, data1)
			} else {
				r.Data[dataCount].Tags = data1.Tags
			}
		}
	}
}
